<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2d2d44 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #64ffda, #00bcd4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header p {
            color: #b0b0b0;
            font-size: 1.1rem;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn.active {
            background: linear-gradient(45deg, #64ffda, #00bcd4);
            color: #1e1e2e;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #64ffda;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #b0b0b0;
            font-size: 0.9rem;
        }

        .typing-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            border: 2px solid rgba(100, 255, 218, 0.2);
        }

        .text-display {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 20px;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }

        .char {
            position: relative;
        }

        .char.correct {
            background-color: rgba(76, 175, 80, 0.3);
            color: #4caf50;
        }

        .char.incorrect {
            background-color: rgba(244, 67, 54, 0.3);
            color: #f44336;
        }

        .char.current {
            background-color: #64ffda;
            color: #1e1e2e;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .input-area {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(100, 255, 218, 0.3);
            border-radius: 10px;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-area:focus {
            border-color: #64ffda;
        }

        .input-area:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #64ffda, #00bcd4);
            width: 0%;
            transition: width 0.3s ease;
        }

        .results {
            display: none;
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin-top: 20px;
        }

        .results.show {
            display: block;
        }

        .results h2 {
            color: #64ffda;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .learning-mode {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .learning-mode.active {
            display: block;
        }

        .lesson-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .lesson-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .lesson-btn:hover, .lesson-btn.active {
            background: #64ffda;
            color: #1e1e2e;
        }

        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #64ffda;
            text-align: center;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .text-display {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ Typing Speed Test</h1>
            <p>Test your typing speed and improve your skills</p>
        </div>

        <div class="controls">
            <button class="btn active" onclick="setMode('test')">Speed Test</button>
            <button class="btn" onclick="setMode('learning')">Learning Mode</button>
            <button class="btn" onclick="setDifficulty('easy')">Easy</button>
            <button class="btn" onclick="setDifficulty('medium')">Medium</button>
            <button class="btn" onclick="setDifficulty('hard')">Hard</button>
            <button class="btn" onclick="setTime(30)">30s</button>
            <button class="btn" onclick="setTime(60)">60s</button>
            <button class="btn" onclick="setTime(120)">2min</button>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accuracy">100</div>
                <div class="stat-label">Accuracy %</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="errors">0</div>
                <div class="stat-label">Errors</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="time-left">60</div>
                <div class="stat-label">Time Left</div>
            </div>
        </div>

        <div class="learning-mode" id="learning-mode">
            <h3 style="color: #64ffda; margin-bottom: 15px;">Choose a Lesson:</h3>
            <div class="lesson-selector">
                <div class="lesson-btn active" onclick="selectLesson('home-row')">Home Row</div>
                <div class="lesson-btn" onclick="selectLesson('top-row')">Top Row</div>
                <div class="lesson-btn" onclick="selectLesson('bottom-row')">Bottom Row</div>
                <div class="lesson-btn" onclick="selectLesson('numbers')">Numbers</div>
                <div class="lesson-btn" onclick="selectLesson('symbols')">Symbols</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>

        <div class="timer" id="timer">Ready to start!</div>

        <div class="typing-area">
            <div class="text-display" id="text-display"></div>
            <textarea 
                class="input-area" 
                id="input-area" 
                placeholder="Click here and start typing..."
                rows="4"
            ></textarea>
        </div>

        <div class="controls">
            <button class="btn" onclick="startTest()">Start Test</button>
            <button class="btn" onclick="resetTest()">Reset</button>
        </div>

        <div class="results" id="results">
            <h2>Test Complete! ðŸŽ‰</h2>
            <div class="results-grid">
                <div class="stat-card">
                    <div class="stat-value" id="final-wpm">0</div>
                    <div class="stat-label">Words Per Minute</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="final-accuracy">0</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="final-errors">0</div>
                    <div class="stat-label">Total Errors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="final-chars">0</div>
                    <div class="stat-label">Characters Typed</div>
                </div>
            </div>
            <button class="btn" onclick="resetTest()">Try Again</button>
        </div>
    </div>

    <script>
        // Game state
        let currentMode = 'test';
        let currentDifficulty = 'medium';
        let currentLesson = 'home-row';
        let testDuration = 60;
        let isTestActive = false;
        let startTime = 0;
        let currentCharIndex = 0;
        let errors = 0;
        let totalChars = 0;
        let timer = null;
        let timeLeft = 60;

        // Text samples for different difficulties
        const textSamples = {
            easy: [
                "the quick brown fox jumps over the lazy dog",
                "a simple sentence to test your typing speed",
                "practice makes perfect when learning to type",
                "keep your fingers on the home row keys",
                "typing is a useful skill to develop over time"
            ],
            medium: [
                "The five boxing wizards jump quickly over the fence.",
                "JavaScript is a versatile programming language used for web development.",
                "Consistent practice and proper finger placement improve typing accuracy significantly.",
                "Modern keyboards have evolved from mechanical typewriters of the past century.",
                "Efficient typing requires muscle memory and proper hand positioning techniques."
            ],
            hard: [
                "The quick-witted programmer debugged the complex algorithm using advanced techniques.",
                "Sophisticated software architectures require careful planning and implementation strategies.",
                "Machine learning algorithms process vast amounts of data to identify patterns.",
                "Cybersecurity professionals must stay updated with emerging threats and vulnerabilities.",
                "Full-stack developers work with both front-end interfaces and back-end systems."
            ]
        };

        // Learning lessons
        const lessons = {
            'home-row': 'asdf jkl; asdf jkl; sad lad ask dad fall all shalllass',
            'top-row': 'qwer tyui qwer tyui quit wire tire your query write',
            'bottom-row': 'zxcv bnm, zxcv bnm, zone cave move calm zebra',
            'numbers': '1234 5678 90 1234 5678 90 phone number 555-0123',
            'symbols': '!@#$ %^&* ()_+ !@#$ %^&* ()_+ special characters'
        };

        // DOM elements
        const textDisplay = document.getElementById('text-display');
        const inputArea = document.getElementById('input-area');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const errorsDisplay = document.getElementById('errors');
        const timeLeftDisplay = document.getElementById('time-left');
        const progressBar = document.getElementById('progress');
        const timerDisplay = document.getElementById('timer');
        const resultsDiv = document.getElementById('results');
        const learningMode = document.getElementById('learning-mode');

        // Initialize the app
        function init() {
            generateText();
            inputArea.addEventListener('input', handleInput);
            inputArea.addEventListener('focus', () => {
                if (!isTestActive) {
                    startTest();
                }
            });
        }

        // Set mode (test or learning)
        function setMode(mode) {
            currentMode = mode;
            updateActiveButton();
            
            if (mode === 'learning') {
                learningMode.classList.add('active');
            } else {
                learningMode.classList.remove('active');
            }
            
            resetTest();
        }

        // Set difficulty
        function setDifficulty(difficulty) {
            currentDifficulty = difficulty;
            updateActiveButton();
            resetTest();
        }

        // Set test duration
        function setTime(seconds) {
            testDuration = seconds;
            timeLeft = seconds;
            timeLeftDisplay.textContent = seconds;
            updateActiveButton();
            resetTest();
        }

        // Select learning lesson
        function selectLesson(lesson) {
            currentLesson = lesson;
            document.querySelectorAll('.lesson-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            resetTest();
        }

        // Update active button styling
        function updateActiveButton() {
            document.querySelectorAll('.btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Generate text based on mode and difficulty
        function generateText() {
            let text;
            
            if (currentMode === 'learning') {
                text = lessons[currentLesson];
            } else {
                const samples = textSamples[currentDifficulty];
                text = samples[Math.floor(Math.random() * samples.length)];
            }
            
            displayText(text);
        }

        // Display text with character spans
        function displayText(text) {
            textDisplay.innerHTML = '';
            for (let i = 0; i < text.length; i++) {
                const span = document.createElement('span');
                span.textContent = text[i];
                span.classList.add('char');
                if (i === 0) span.classList.add('current');
                textDisplay.appendChild(span);
            }
        }

        // Handle input
        function handleInput(e) {
            if (!isTestActive) return;

            const inputText = e.target.value;
            const chars = textDisplay.querySelectorAll('.char');
            
            // Update character styling
            chars.forEach((char, index) => {
                char.classList.remove('correct', 'incorrect', 'current');
                
                if (index < inputText.length) {
                    if (inputText[index] === char.textContent) {
                        char.classList.add('correct');
                    } else {
                        char.classList.add('incorrect');
                    }
                } else if (index === inputText.length) {
                    char.classList.add('current');
                }
            });

            // Update progress
            const progress = (inputText.length / chars.length) * 100;
            progressBar.style.width = progress + '%';

            // Calculate stats
            updateStats(inputText, chars);

            // Check if test is complete
            if (inputText.length === chars.length) {
                endTest();
            }
        }

        // Update statistics
        function updateStats(inputText, chars) {
            const timeElapsed = (Date.now() - startTime) / 1000 / 60; // in minutes
            const wordsTyped = inputText.length / 5; // standard: 5 chars = 1 word
            const wpm = Math.round(wordsTyped / timeElapsed) || 0;
            
            // Calculate errors
            let currentErrors = 0;
            for (let i = 0; i < inputText.length; i++) {
                if (inputText[i] !== chars[i].textContent) {
                    currentErrors++;
                }
            }
            
            const accuracy = inputText.length > 0 ? 
                Math.round(((inputText.length - currentErrors) / inputText.length) * 100) : 100;

            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy;
            errorsDisplay.textContent = currentErrors;
            
            errors = currentErrors;
            totalChars = inputText.length;
        }

        // Start test
        function startTest() {
            if (isTestActive) return;
            
            isTestActive = true;
            startTime = Date.now();
            timeLeft = testDuration;
            inputArea.disabled = false;
            inputArea.focus();
            
            // Start timer
            timer = setInterval(() => {
                timeLeft--;
                timeLeftDisplay.textContent = timeLeft;
                timerDisplay.textContent = `Time: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    endTest();
                }
            }, 1000);
            
            timerDisplay.textContent = `Time: ${timeLeft}s`;
            resultsDiv.classList.remove('show');
        }

        // End test
        function endTest() {
            isTestActive = false;
            clearInterval(timer);
            inputArea.disabled = true;
            
            // Calculate final stats
            const timeElapsed = (Date.now() - startTime) / 1000 / 60;
            const wordsTyped = totalChars / 5;
            const finalWpm = Math.round(wordsTyped / timeElapsed) || 0;
            const finalAccuracy = totalChars > 0 ? 
                Math.round(((totalChars - errors) / totalChars) * 100) : 100;
            
            // Display results
            document.getElementById('final-wpm').textContent = finalWpm;
            document.getElementById('final-accuracy').textContent = finalAccuracy + '%';
            document.getElementById('final-errors').textContent = errors;
            document.getElementById('final-chars').textContent = totalChars;
            
            resultsDiv.classList.add('show');
            timerDisplay.textContent = 'Test Complete!';
        }

        // Reset test
        function resetTest() {
            isTestActive = false;
            clearInterval(timer);
            currentCharIndex = 0;
            errors = 0;
            totalChars = 0;
            timeLeft = testDuration;
            
            inputArea.value = '';
            inputArea.disabled = false;
            
            wpmDisplay.textContent = '0';
            accuracyDisplay.textContent = '100';
            errorsDisplay.textContent = '0';
            timeLeftDisplay.textContent = testDuration;
            progressBar.style.width = '0%';
            timerDisplay.textContent = 'Ready to start!';
            
            resultsDiv.classList.remove('show');
            generateText();
        }

        // Initialize the app when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>